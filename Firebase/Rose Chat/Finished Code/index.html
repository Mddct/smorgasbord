<html>
  <head>
    <link rel="stylesheet" type="text/css" href="css/bootstrap.min.css">

    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Rose Chat Portal</title>
  </head>
  <body>
    <!-- Redirect to login if not logged in, otherwise go straight to chat -->
    <script src="https://cdn.firebase.com/js/client/1.0.15/firebase.js"></script>
    <script src='https://cdn.firebase.com/js/simple-login/1.4.1/firebase-simple-login.js'></script>
    <script src='https://ajax.googleapis.com/ajax/libs/jquery/1.9.0/jquery.min.js'></script>
    <script src='js/bootstrap.min.js'></script>
    <script type="text/javascript">
      var authRef = new Firebase('https://rosechat.firebaseio.com');
      var auth = new FirebaseSimpleLogin(authRef, function(error, user) {
        if (error) {
          // switch (error.code) {
          //   case 'INVALID_EMAIL':
          //     alert("Invalid email address or password");
          //   case 'INVALID_PASSWORD':
          //     alert("Invalid email address or password");
          //   default:
          //     alert("Authentication failed");
          // }
        } else if (user) {
          console.log("User present, redirecting to chat");
          window.location.href = "html/rosechat.html"
        } else {
          // User is logged out
          console.log("User absent, redirecting to login");
          window.location.href = "html/login.html"
        }
      });
    </script>
  </body>
</html>